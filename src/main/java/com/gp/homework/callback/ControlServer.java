package com.gp.homework.callback;

/**
 * Create by Wayne on 2020/4/28
 */
public class ControlServer {


    public static void main(String[] args) {

//        ClientRequest request = new ClientRequest("1001100","召测") ;
//
//        //第一次召测
//        System.out.println(StrUtil.format("第{}次召测",1));
//        CommonTimeCache.TIMED_CACHE.put(request,System.currentTimeMillis());
//        try {
//            TimeUnit.SECONDS.sleep(10);
//        } catch (InterruptedException e) {
//            e.printStackTrace();
//        }
//
//        for(int i=2; i<=3; i++){
//            try {
//                //等待10秒
//                 if(CommonTimeCache.TIMED_CACHE.get(request) != null) {
//                     System.out.println(StrUtil.format("第{}次召测",i));
//                     CommonTimeCache.TIMED_CACHE.put(request,System.currentTimeMillis());
//                     TimeUnit.SECONDS.sleep(10);
//                 }
//
//                 //如果不是null，表示召测完成，
//                else
//                    System.out.println(StrUtil.format("召测完成"));
//
//            }
//            catch (InterruptedException e) {
//                e.printStackTrace();
//            }
//        }
//        System.out.println(StrUtil.format("召测失败"));




    }


}


